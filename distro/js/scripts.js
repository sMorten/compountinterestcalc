console.log("test"),function(){var h=document.getElementById("initial_deposit"),q=document.querySelector("#contribution_amount"),_=document.querySelector("#investment_timespan"),e=document.querySelector("#investment_timespan_text"),L=document.querySelector("#estimated_return"),F=document.querySelector("#future_balance"),r=document.querySelector("#contribution_frequency"),o=document.querySelector("#compound_frequency"),x=document.querySelector("#cinterest_result_contributions"),E=document.querySelector("#cinterest_result_compounded_return"),k=document.querySelector("#cinterest_result_value");function a(e,t){var a=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max")),r=parseFloat(e.getAttribute("step"))||1,o=e.dataset.value||e.defaultValue||0,l=parseFloat(e.value.replace(/\$/,"")),l=isNaN(parseFloat(l))?o:("add"==t?l+=r:"sub"==t&&(l-=r),l<a?a:n<l?n:l);e.dataset.value=l,e.value=(e.dataset.prepend||"")+l+(e.dataset.append||""),s()}function S(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function l(){for(var e=parseFloat(h.dataset.value),t=parseFloat(L.dataset.value/100),a=parseFloat(q.dataset.value),c=parseInt(_.value),i=(new Date).getFullYear(),p=parseInt(document.querySelector("#compound_frequency").value),v=parseInt(document.querySelector("#contribution_frequency").value),n=0,r=0,m=[],o=i;o<i+c;o++)m.push(o);for(var y={label:"Total Principal",backgroundColor:"rgb(0, 123, 255)",data:[]},b={label:"Total Interest",backgroundColor:"#1AAF5D",data:[]},l=1;l<=c;l++){var f,s,u=e+a*v*l,d=0,g=u;t&&(d=((f=e*(s=Math.pow(1+t/p,p*l)))+(s=a*(s-1)/(t/v))-u).toFixed(0),g=(f+s).toFixed(0)),F.innerHTML="$"+S(g),y.data.push(u),b.data.push(d),n=u,r=d}return x.innerHTML="$"+S(n),E.innerHTML="$"+S(r),k.innerHTML="$"+S(parseFloat(n)+parseFloat(r)),{labels:m,datasets:[y,b]}}function s(){var e=l();n.data.labels=e.labels,n.data.datasets[0].data=e.datasets[0].data,n.data.datasets[1].data=e.datasets[1].data,console.log(e),n.update()}console.log("test22"),h.addEventListener("change",function(){a(this)}),q.addEventListener("change",function(){a(this)}),L.addEventListener("change",function(){a(this)}),_.addEventListener("change",function(){e.innerHTML=this.value+" years",s()}),_.addEventListener("input",function(){e.innerHTML=this.value+" years"}),r.addEventListener("change",function(){s()}),o.addEventListener("change",function(){s()});for(var u=document.querySelectorAll("[data-counter]"),t=0;t<u.length;t++)u[t].addEventListener("click",function(){var e=document.querySelector('[name="'+this.dataset.field+'"]'),t=this.dataset.counter;e&&a(e,t)});var r=document.getElementById("myChart").getContext("2d"),n=new Chart(r,{type:"line",data:l(),options:{legend:{display:!1},tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return t.datasets[e.datasetIndex].label+": $"+e.yLabel}}},responsive:!0,scales:{xAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Year"}}],yAxes:[{stacked:!0,ticks:{callback:function(e){return"$"+e}},scaleLabel:{display:!0,labelString:"Balance"}}]}}})}();