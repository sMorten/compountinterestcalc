<!--DOCTYPE HTML -->
<html>
<head>
    <!-- Latest compiled and minified CSS -->
   <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->



    
</head>
<body>
    <!-- Start of app html -->
    <div class="cinterest">
    	<div class="smw-container">
        <div class="smw-row">
            <div class="smw-col-md-6">
                <h3 class="smc-heading">How Do You Plan To Reach Your Investment Goal?</h3>
                    <div class="smw-row controls-row">
                        <div class="col smw-col-xs-6">
                            <a href="#" id="smc-fixed">Contribute A Fixed Amount</a>
                        </div>
                        <div class="col smw-col-xs-6">
                            <a href="#" id="smc-date">Use A Target Date</a>
                        </div>
                    </div>
           
            <div class="form-group smc-date-control">
                <label for="investment_goal">Investment Goal</label>
                <div class="smw-row">
                    <div class="input-group smw-col-md-6">
                        <div class="input-group-prepend">
                            <button class="btn btn-primary" type="button" data-counter="sub" data-field="investment_goal">&minus;</button>
                        </div>
                        <input class="form-control text-center" id="investment_goal" type="text" name="investment_goal" min="0" max="10000000000" step="50" value="$10000" data-value="10000" data-prepend="$">
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="button" data-counter="add" data-field="investment_goal">&plus;</button>
                        </div>
                    </div>
                </div>
            </div>
                <div class="form-group smc-date-control">
                    <label for="smc_target_date">Target Date</label>
                    <div class="smw-row">
                        <div class="input-group smw-col-md-6">
               
                          <!--  <input class="form-control text-center" id="smc_target_date" type="date" name="smc_target_date"> -->
                            <select class="form-control text-center" id="smc_target_month" name="smc_target_month">
                                <option value="1" selected>January</option>
                                <option value="2">February</option>
                                <option value="3">March</option>
                                <option value="4">April</option>
                                <option value="5">May</option>
                                <option value="6">June</option>
                                <option value="7">July</option>
                                <option value="8">August</option>
                                <option value="9">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                            <input class="form-control text-center" id="smc_target_year" type="number" min=2022 max=2200 name="smc_target_year">
                            
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="initial_deposit">Initial Deposit</label>
                    <div class="smw-row">
                        <div class="input-group smw-col-md-6">
                            <div class="input-group-prepend">
                                <button class="btn btn-primary" type="button" data-counter="sub" data-field="initial_deposit">&minus;</button>
                            </div>
                            <input class="form-control text-center" id="initial_deposit" type="text" name="initial_deposit" min="100" max="100000000" step="100" value="$5000" data-value="5000" data-prepend="$">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button" data-counter="add" data-field="initial_deposit">&plus;</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group smc-fixed-control">
                    <label for="contribution_amount">Contributions</label>
                    <div class="smw-row">
                        <div class="input-group smw-col-md-6">
                            <div class="input-group-prepend">
                                <button class="btn btn-primary" type="button" data-counter="sub" data-field="contribution_amount">&minus;</button>
                            </div>
                            <input class="form-control text-center" id="contribution_amount" type="text" name="contribution_amount" min="0" max="10000" step="50" value="$100" data-value="100" data-prepend="$">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button" data-counter="add" data-field="contribution_amount">&plus;</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                     <div class="form-check form-check-inline">
                        <label for="contribution_frequency">Contribution Frequency</label><br/>
                        <select name="contribution_frequency" id="contribution_frequency">
                            <option value="1" selected="selected">Monthly</option>
                            <option value="3">Quarterly</option>
                            <option value="6">Semi-Annually</option>
                            <option value="12">Yearly</option>

                        </select>
                    </div>

                 </div>

                   

                
                

                <div class="form-group">
                    <label for="estimated_return">Estimated Rate of Return</label>
                    <div class="smw-row">
                        <div class="input-group smw-col-md-6">
                            <div class="input-group-prepend">
                                <button class="btn btn-primary" type="button" data-counter="sub" data-field="estimated_return">&minus;</button>
                            </div>
                            <input class="form-control text-center" id="estimated_return" type="text" name="estimated_return" min="0" max="50" step="0.25" value="5.00%" data-value="5.00" data-append="%">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button" data-counter="add" data-field="estimated_return">&plus;</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group smw-row">
                    <div class="col-sm-12">
                        <div>Compound Frequency</div>
                        <div class="form-check form-check-inline">
                            <select name="compound_frequency" id="compound_frequency">
                                <option value="1" selected="selected">Monthly</option>
                                <option value="3">Quarterly</option>
                                <option value="6">Semi-Annually</option>
                                <option value="12">Yearly</option>

                            </select>

                        </div>
                    </div>
                </div>
                <div class="form-group smw-row smc-fixed-control">
                    <label for="investment_timespan">Investment Time Span</label>
                    <div class="smw-row">
                        <div class="smw-col-md-6">
                            <input class="form-control" id="investment_timespan" type="range" name="investment_timespan" min="2" max="50" step="1" value="5">
                        </div>
                    </div>
                    <span id="investment_timespan_text">5 years</span>
                </div>
            </div>
            <div class="smw-col-md-6 text-center cinterest_result">
                
                <canvas id="myChart"></canvas>
                <div class="f-balance">
                    <div><h4>Future Balance</h4></div>
                    <div class="h3" id="future_balance">?</div>

                </div>
                <div class="cinterest_result_detail">
                    <h3>Results</h3>
                    <div class="result_row">
                        <div class="result_title">
                            <p>Your Contributions:</p>
                        </div>
                        <div class="result_result">
                            <p id="cinterest_result_contributions"></p>
                        </div>
                    </div>
                    <div class="result_row">
                        <div class="result_title">
                            <p>Your Compounded Returns:</p>
                        </div>
                        <div class="result_result">
                            <p id="cinterest_result_compounded_return"></p>
                        </div>
                    </div>
                    <div class="result_row smc-fixed-result">
                        <div class="result_title">
                            <p>Total Value Of Your Investment:</p>
                        </div>
                        <div class="result_result">
                            <p id="cinterest_result_value"></p>
                        </div>
                    </div>
                    <div class="result_row smc-date-result">
                        <div class="result_title">
                            <h3>Your Plan:</h3>
                        </div>
                        <div class="result_result">
                            <p id="cinterest_plan_value">You need to invest <span id="smc-date-interval-amount">$0</span> <span id="smc-date-interval">monthly</span> to reach your goal of <span id="smc-date-goal">$0</span> by <span id="smc-date-date">January</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.js" type="text/javascript"></script>
<script>
    function smcNumberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function monthDiff(e,t){var a=12*(t.getFullYear()-e.getFullYear());return(a=(a-=e.getMonth())+t.getMonth())<=0?0:a}var monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];class CInterestClass{constructor(e,t,a){this.settings={chart:{principle_colour:t,interest_colour:a}},this.mode="",this.fields={date:{clickListener:"#smc-date",fields:[".smc-date-control",".smc-date-result"]},fixed:{clickListener:"#smc-fixed",fields:[".smc-fixed-control",".smc-fixed-result"]}},this.chart_canvas="myChart",this.cal_results={contributions:"",compounded_returns:"",fixed_investment_value:"",date_interval_amount:"",date_interval:"",date_goal:"",date_date:""},this.initialized=!1,this.chart_data="",this.changeMode(e);this.chart=new Chart(document.getElementById(this.chart_canvas).getContext("2d"),{type:"line",data:this.getChartData(),options:{legend:{display:!1},tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return t.datasets[e.datasetIndex].label+": $"+e.yLabel}}},responsive:!0,scales:{xAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Year"}}],yAxes:[{stacked:!0,ticks:{callback:function(e){return"$"+e}},scaleLabel:{display:!0,labelString:"Balance"}}]}}}),document.querySelector("#investment_timespan").addEventListener("change",function(){document.querySelector("#investment_timespan_text").innerHTML=this.value+" years"})}dateDiff(e,t){var a=new Date,r=a.getFullYear(),a=a.getMonth()+1;if(12*t+e<12*r+a)return-1;var s=e<a?e+12-a:e-a;return s+=e<a?12*(t-r)-12:12*(t-r)}changeMode(e){"fixed"===e||"date"===e?(this.mode=e,this.setMode(e)):console.error("Interest system mode must be either 'fixed' or 'date'")}setMode(e){"fixed"===e||"date"===e?("fixed"===e?(document.querySelector(this.fields.fixed.clickListener).classList.add("smc-active"),document.querySelector(this.fields.date.clickListener).classList.remove("smc-active"),this.fields.fixed.fields.forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.classList.remove("smc-hidden")})}),this.fields.date.fields.forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.classList.add("smc-hidden")})})):"date"===e?(document.querySelector(this.fields.date.clickListener).classList.add("smc-active"),document.querySelector(this.fields.fixed.clickListener).classList.remove("smc-active"),this.fields.date.fields.forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.classList.remove("smc-hidden")})}),this.fields.fixed.fields.forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.classList.add("smc-hidden")})})):console.error("Interest System - Invalid Mode"),this.initialized?this.updateChart():this.initialized=!0):console.error("Interest system mode must be either 'fixed' or 'date'")}updateValue(e,t){var a=parseFloat(e.getAttribute("min")),r=parseFloat(e.getAttribute("max")),s=parseFloat(e.getAttribute("step"))||1,n=e.dataset.value||e.defaultValue||0,o=parseFloat(e.value.replace(/\$/,"")),o=isNaN(parseFloat(o))?n:("add"==t?o+=s:"sub"==t&&(o-=s),o<a?a:r<o?r:o);e.dataset.value=o,e.value=(e.dataset.prepend||"")+o+(e.dataset.append||""),this.updateChart()}getChartData(){var e=parseFloat(document.getElementById("initial_deposit").dataset.value),t=parseFloat(document.querySelector("#estimated_return").dataset.value/100),d=parseFloat(document.querySelector("#contribution_amount").dataset.value),u=parseInt(document.querySelector("#investment_timespan").value),m=(new Date).getFullYear(),a=((new Date).getMonth(),parseInt(document.querySelector("#compound_frequency").value)),r=parseInt(document.querySelector("#contribution_frequency").value),h=parseFloat(document.getElementById("investment_goal").dataset.value),s=0,n=0,o=0,y=(document.querySelector("#contribution_amount"),document.querySelector("#investment_goal"),document.querySelector("#investment_timespan"),document.querySelector("#investment_timespan_text"),document.querySelector("#estimated_return"),document.querySelector("#future_balance")),f=(document.querySelector("#contribution_frequency"),document.querySelector("#compound_frequency"),document.querySelector("#cinterest_result_contributions")),p=document.querySelector("#cinterest_result_compounded_return"),g=document.querySelector("#cinterest_result_value");document.querySelector("#smc-date-interval-amount"),document.querySelector("#smc-date-interval"),document.querySelector("#smc-date-goal"),document.querySelector("#smc-date-date");if("fixed"===this.mode){for(var v=[],_=m;_<m+u;_++)v.push(_);for(var S={label:"Total Principal",backgroundColor:this.settings.chart.principle_colour,data:[]},q={label:"Total Interest",backgroundColor:this.settings.chart.interest_colour,data:[]},b=1;b<=u;b++){var L,x,M=e+d*r*b,F=0,C=M;t&&(F=((L=e*(x=Math.pow(1+t/a,a*b)))+(x=d*(x-1)/(t/r))-M).toFixed(0),C=(L+x).toFixed(0)),y.innerHTML="$"+smcNumberWithCommas(C),S.data.push(M),q.data.push(F),s=M,n=F}return f.innerHTML="$"+smcNumberWithCommas(s),p.innerHTML="$"+smcNumberWithCommas(n),g.innerHTML="$"+smcNumberWithCommas(parseFloat(s)+parseFloat(n)),{labels:v,datasets:[S,q]}}if("date"==this.mode){for(var D,I,k,E,N=parseInt(document.querySelector("#smc_target_month").value),T=parseInt(document.querySelector("#smc_target_year").value),c=new Date,A=c.getMonth(),H=c.getFullYear(),$=this.dateDiff(N,T),i=Math.pow(1+t*a/12,a/r)-1,c=$/r,w=(h-e*Math.pow(1+i,c))*(0<i?i/(Math.pow(1+i,c)-1):1/c)/(1+i),v=[],S={label:"Total Principal",backgroundColor:this.settings.chart.principle_colour,data:[]},q={label:"Total Interest",backgroundColor:this.settings.chart.interest_colour,data:[]},W=0;W<=$;W+=r)0==W?(I=monthNames[A]+" "+H,k=0,o=E=e):(I=monthNames[(D=A+W+12*H)%12]+" "+(D-D%12)/12,o+=(E=w)+(k=(o+w)*i)),s+=E,n+=k,console.log(n+" : "+s+" : "+o),v.push(I),S.data.push(s.toFixed(0)),q.data.push(n.toFixed(0));y.innerHTML="$"+smcNumberWithCommas(o.toFixed(0)),f.innerHTML="$"+smcNumberWithCommas(s.toFixed(0)),p.innerHTML="$"+smcNumberWithCommas(n.toFixed(0)),g.innerHTML="$"+smcNumberWithCommas(parseFloat(s)+parseFloat(n)),document.querySelector("#smc-date-interval-amount").innerHTML="$"+w.toFixed(2);var l="monthly";switch(r){case 1:l="monthly";case 3:l="quarterly";case 6:l="semi-annually";case 12:l="annually";default:l="monthly"}return document.querySelector("#smc-date-interval").innerHTML=l,document.querySelector("#smc-date-goal").innerHTML="$"+smcNumberWithCommas(h),document.querySelector("#smc-date-date").innerHTML=monthNames[N-1]+" "+T,{labels:v,datasets:[S,q]}}console.error("System mode not defined")}updateChart(){try{var e=this.getChartData();this.chart.data.labels=e.labels,this.chart.data.datasets[0].data=e.datasets[0].data,this.chart.data.datasets[1].data=e.datasets[1].data,this.chart.update()}catch(e){console.error(e.message)}}registerListeners(e){try{for(var a=this,t=(e.forEach(e=>{document.querySelector(e).addEventListener("change",function(){a.updateValue(this)})}),document.querySelectorAll("[data-counter]")),r=0;r<t.length;r++)t[r].addEventListener("click",function(){var e=document.querySelector('[name="'+this.dataset.field+'"]'),t=this.dataset.counter;e&&a.updateValue(e,t)});document.querySelector("#smc_target_date").addEventListener("change",e=>{a.updateChart()})}catch(e){console.error(e)}}}!function(){var t=new CInterestClass("fixed","rgb(0, 123, 255)","#1AAF5D");console.log("Interest Manager Initiated");for(const n in t.fields)document.querySelector(t.fields[n].clickListener).addEventListener("click",e=>{e.preventDefault(),t.changeMode(n)});var e=new Date,a=e.getFullYear()+1,r=e.getMonth(),s=r+1;smcDay=e.getDate(),s=s.toString().length<2?"0"+s.toString():s,smcDay=smcDay.toString().length<2?"0"+smcDay.toString():smcDay,document.querySelector("#smc_target_month").value=r+1,document.querySelector("#smc_target_year").value=a,document.querySelector("#smc_target_year").min=a-1,t.registerListeners(["#initial_deposit","#contribution_amount","#investment_goal","#investment_timespan","#contribution_frequency","#compound_frequency","#smc_target_year","#smc_target_month"])}();

    (function(){

        var styleTag = document.createElement('style');
          
          styleTag.type = 'text/css';
          
          styleTag.appendChild(document.createTextNode("body{margin-top:60px}.smc-hidden{display:none!important}.smw-container{width:90%;min-width:320px;margin-left:auto;margin-right:auto}.smw-container .smw-row{display:flex;flex-wrap:wrap}.smw-container .smw-row .smw-col-md-6{width:50%}@media screen and (max-width:720px){.smw-container .smw-row .smw-col-md-6{width:100%;padding-left:20px;padding-right:20px}}.smw-container .smw-row .smw-xs-6{width:50%}.smw-container .smw-row .input-group{display:flex;justify-content:flex-start}.smw-container .smw-row .form-group{padding-top:15px;padding-bottom:15px}.smw-container .controls-row{width:100%}.smw-container .controls-row .smw-col-xs-6{margin-left:20px;margin-right:20px}.smw-container .controls-row .smw-col-xs-6 a{background-color:#c3c3c3;padding:10px 15px;border-radius:5px;text-decoration:none}.smc-active{box-shadow:inset 0 0 0 2px rgba(55,55,55,.8)}.smc-active:hover{cursor:default}"));
          
          document.head.appendChild(styleTag);

    })();
</script>
</body>
</html>